Metadata-Version: 2.4
Name: toxicity-facebook
Version: 0.1.0
Summary: Pipeline analisis toksisitas komunitas Facebook
Author: Commulyzer Team
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Dynamic: author
Dynamic: description
Dynamic: description-content-type
Dynamic: requires-python
Dynamic: summary

# toxicity-facebook

Proyek ini menyediakan pipeline end-to-end untuk menganalisis toksisitas komunitas Facebook berdasarkan kata kunci tertentu (misalnya "Mobile Legends"). Skrip mencakup proses penemuan halaman, scraping aman, pembersihan dan ekstraksi fitur teks, labeling manual, pelatihan model, evaluasi, hingga API inference sederhana. Semua dokumentasi dan output user-facing menggunakan Bahasa Indonesia agar cocok untuk konteks tugas perkuliahan lokal.

## Tujuan
- Memfasilitasi riset kecil tentang kesehatan percakapan di komunitas Facebook.
- Menyediakan contoh pipeline terstruktur dan terdokumentasi untuk analisis toksisitas.
- Menekankan praktik aman, etis, dan minim risiko kebocoran data pribadi.

## Peringatan Etika & Hukum
- Selalu periksa dan patuhi Ketentuan Layanan Facebook. Hindari scraping agresif atau berbagi data yang melanggar ToS.
- Gunakan kredensial (cookie, token) hanya bila Anda memiliki hak akses sah. Jangan pernah menyimpan atau membagikan kredensial di repositori publik.
- Simpan dan bagikan hanya `post_id` ketika membagikan dataset; hindari menyebarkan teks mentah tanpa izin yang jelas.
- Pertimbangkan perizinan IRB/komite etik institusi sebelum melakukan studi pada data pengguna.
- Lihat `docs/ethics.md` dan `docs/data_sharing.md` untuk panduan lebih rinci.

## Struktur Direktori
```
toxicity-facebook/
  scrapers/
  preprocess/
  labeling/
  train/
  eval/
  api/
  utils/
  data/
  docs/
  tests/
```

## Instalasi
```bash
python -m venv .venv
.venv\Scripts\activate  # Windows
pip install -r requirements.txt
```

## Contoh Scraping
```bash
python -m scrapers.cli --query "Mobile Legends" --pages-file pages.txt --max-posts 1000
```
Tambahkan `--discover` bila ingin mencoba penemuan halaman otomatis via Google Custom Search API. Pastikan `GOOGLE_API_KEY` terpasang di environment.

## Pipeline Singkat
1. `python -m scrapers.cli --query "Mobile Legends" --discover --max-posts 500`
2. `python preprocess/clean.py --in data/raw/mobilelegends_raw.jsonl --out data/processed/mobilelegends_items.csv`
3. `python labeling/prepare_annotation.py --in data/processed/mobilelegends_items.csv --sample 500 --out labeling/to_label.csv`
4. Lakukan labeling manual pada `labeling/to_label.csv` (format kolom ada di `labeling/labeling_template.csv`).
5. `python train/train_toxicity.py --train_csv data/sample/train.csv --val_csv data/sample/val.csv --output_dir models/best`
6. `python eval/evaluate.py --model_path models/best --test_csv data/sample/val.csv --query "Mobile Legends"`
7. `python eval/explainability.py --model_path models/best --csv data/sample/val.csv --out_dir eval/explain`

## Interpretasi Hasil
Misal hasil evaluasi menunjukkan `Toxic percent: 80%`. Ini berarti 80% dari seluruh item (post + komentar) yang dianalisis diprediksi sebagai toxic oleh model. Angka ini merupakan indikator tingkat toksisitas komunitas, tetapi bukan kebenaran mutlak. Pertimbangkan:
- Bias model: model dilatih pada dataset tertentu dan bisa salah menilai konteks lokal/slang.
- Bias sampel: scraping mungkin tidak inklusif terhadap semua percakapan.
- Ambiguitas label: anotator bisa berbeda pendapat tentang definisi "toxic".
- Kualitas data: komentar pendek, emoji, atau bahasa campuran dapat menurunkan akurasi.

Gunakan hasil sebagai sinyal awal, kemudian lakukan validasi manual sebelum menarik kesimpulan kebijakan.

## Risiko & Batasan
- Scraper dapat gagal bila Facebook mengubah struktur atau menahan akses; script menyiapkan fallback, namun perlu penyesuaian manual.
- Penggunaan cookies untuk halaman privat perlu kehati-hatian; lihat komentar di `scrapers/facebook_safe.py`.
- Hindari scraping berlebihan; batasi halaman (misal 5-10) dan total item (<~3000) untuk tugas kuliah.

## Pengujian
```bash
pytest
```

## Referensi Tambahan
- `docs/ethics.md`: Checklist etika dan mitigasi risiko.
- `docs/data_sharing.md`: Cara membagikan data secara aman.

Selamat bereksperimen secara bertanggung jawab! Dokumentasikan asumsi Anda dan lampirkan peringatan etika saat membagikan hasil analisis.
